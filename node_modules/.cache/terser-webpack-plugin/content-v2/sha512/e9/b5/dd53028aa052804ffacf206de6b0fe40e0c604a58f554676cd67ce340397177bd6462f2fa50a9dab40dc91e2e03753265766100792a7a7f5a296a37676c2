{"map":"{\"version\":3,\"sources\":[\"/Users/PrakharGupta/Major-1/src/Actions.js\",\"/Users/PrakharGupta/Major-1/src/pages/Home.js\",\"/Users/PrakharGupta/Major-1/src/components/Client.js\",\"/Users/PrakharGupta/Major-1/src/components/Editor.js\",\"/Users/PrakharGupta/Major-1/src/components/chatbox.js\",\"/Users/PrakharGupta/Major-1/src/pages/EditorPage.js\",\"/Users/PrakharGupta/Major-1/src/socket.js\",\"/Users/PrakharGupta/Major-1/src/App.js\",\"/Users/PrakharGupta/Major-1/src/reportWebVitals.js\",\"/Users/PrakharGupta/Major-1/src/index.js\"],\"names\":[\"module\",\"exports\",\"JOIN\",\"JOINED\",\"DISCONNECTED\",\"CODE_CHANGE\",\"SYNC_CODE\",\"LEAVE\",\"Home\",\"navigate\",\"useNavigate\",\"roomId\",\"setRoomId\",\"useState\",\"username\",\"setUsername\",\"joinRoom\",\"state\",\"toast\",\"error\",\"handleInputEnter\",\"e\",\"code\",\"React\",\"createElement\",\"className\",\"src\",\"type\",\"placeholder\",\"onChange\",\"target\",\"value\",\"onKeyUp\",\"onClick\",\"preventDefault\",\"id\",\"uuidV4\",\"success\",\"href\",\"role\",\"aria-label\",\"Client\",\"_ref\",\"Avatar\",\"name\",\"size\",\"round\",\"Editor\",\"onCodeChange\",\"selectedLanguage\",\"editorRef\",\"useRef\",\"socketContext\",\"useContext\",\"userCursors\",\"setUserCursors\",\"useEffect\",\"editor\",\"async\",\"Codemirror\",\"fromTextArea\",\"document\",\"getElementById\",\"mode\",\"json\",\"theme\",\"autoCloseTags\",\"autoCloseBrackets\",\"lineNumbers\",\"on\",\"instance\",\"changes\",\"origin\",\"getValue\",\"cursorPosition\",\"getCursor\",\"emit\",\"ACTIONS\",\"line\",\"ch\",\"userId\",\"SET_CURSOR_POSITION\",\"current\",\"init\",\"handleCodeChange\",\"_ref2\",\"setValue\",\"updateUserCursor\",\"handleCursorPosition\",\"_ref3\",\"position\",\"prevCursors\",\"[object Object]\",\"Object\",\"entries\",\"forEach\",\"_ref4\",\"cursorElement\",\"style\",\"borderLeft\",\"toString\",\"padStart\",\"getUserColor\",\"setBookmark\",\"widget\",\"off\",\"ChatBox\",\"width\",\"height\",\"allow\",\"border\",\"frameBorder\",\"marginTop\",\"marginBottom\",\"marginLeft\",\"marginRight\",\"overflowY\",\"title\",\"EditorPage\",\"socketRef\",\"codeRef\",\"location\",\"useLocation\",\"useParams\",\"reactNavigator\",\"clients\",\"setClients\",\"setSelectedLanguage\",\"_location$state\",\"handleErrors\",\"console\",\"log\",\"io\",\"process\",\"REACT_APP_BACKEND_URL\",\"force new connection\",\"reconnectionAttempt\",\"timeout\",\"transports\",\"initSocket\",\"err\",\"_location$state2\",\"socketId\",\"prev\",\"filter\",\"client\",\"disconnect\",\"alt\",\"map\",\"key\",\"navigator\",\"clipboard\",\"writeText\",\"Navigate\",\"to\",\"App\",\"Fragment\",\"Toaster\",\"toastOptions\",\"primary\",\"BrowserRouter\",\"Routes\",\"Route\",\"path\",\"element\",\"reportWebVitals\",\"onPerfEntry\",\"Function\",\"__webpack_require__\",\"then\",\"bind\",\"getCLS\",\"getFID\",\"getFCP\",\"getLCP\",\"getTTFB\",\"ReactDOM\",\"render\",\"StrictMode\"],\"mappings\":\"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\",\"sourcesContent\":[\"const ACTIONS = {\\n    JOIN: 'join',\\n    JOINED: 'joined',\\n    DISCONNECTED: 'disconnected',\\n    CODE_CHANGE: 'code-change',\\n    SYNC_CODE: 'sync-code',\\n    LEAVE: 'leave',\\n};\\n\\nmodule.exports = ACTIONS;\\n\",\"import React, { useState } from 'react';\\nimport { v4 as uuidV4 } from 'uuid';\\nimport toast from 'react-hot-toast';\\nimport { useNavigate } from 'react-router-dom';\\n\\nconst Home = () => {\\n    const navigate = useNavigate();\\n\\n    const [roomId, setRoomId] = useState('');\\n    const [username, setUsername] = useState('');\\n    const createNewRoom = (e) => {\\n        e.preventDefault();\\n        const id = uuidV4();\\n        setRoomId(id);\\n        toast.success('Created a new room');\\n    };\\n\\n    const joinRoom = () => {\\n        if (!roomId || !username) {\\n            toast.error('ROOM ID & username is required');\\n            return;\\n        }\\n\\n        // Redirect\\n        navigate(`/editor/${roomId}`, {\\n            state: {\\n                username,\\n            },\\n        });\\n    };\\n\\n    const handleInputEnter = (e) => {\\n        if (e.code === 'Enter') {\\n            joinRoom();\\n        }\\n    };\\n    return (\\n        <div className=\\\"homePageWrapper\\\">\\n            <div className=\\\"formWrapper\\\">\\n            <div className=\\\"logo-container\\\">\\n                  <img src = \\\"/codemate.jpg\\\" className=\\\"logo-home\\\" />\\n                </div>\\n                <h4 className=\\\"mainLabel\\\">Paste ROOM ID</h4>\\n                <div className=\\\"inputGroup\\\">\\n                    <input\\n                        type=\\\"text\\\"\\n                        className=\\\"inputBox\\\"\\n                        placeholder=\\\"ROOM ID\\\"\\n                        onChange={(e) => setRoomId(e.target.value)}\\n                        value={roomId}\\n                        onKeyUp={handleInputEnter}\\n                    />\\n                    <input\\n                        type=\\\"text\\\"\\n                        className=\\\"inputBox\\\"\\n                        placeholder=\\\"USERNAME\\\"\\n                        onChange={(e) => setUsername(e.target.value)}\\n                        value={username}\\n                        onKeyUp={handleInputEnter}\\n                    />\\n                    <button className=\\\"btn joinBtn\\\" onClick={joinRoom}>\\n                        Join\\n                    </button>\\n                    <span className=\\\"createInfo\\\">\\n                        If you don't have an invite then create &nbsp;\\n                        <a\\n                            onClick={createNewRoom}\\n                            href=\\\"/create-room\\\"\\n                            className=\\\"createNewBtn\\\"\\n                        >\\n                            new room\\n                        </a>\\n                    </span>\\n                </div>\\n            </div>\\n            <footer>\\n            <h4>\\n            Built with <span role=\\\"img\\\" aria-label=\\\"love\\\">ðŸ’›</span> by <a href=\\\"https://github.com/MEPRAKHAR\\\">Prakhar</a> & <a href=\\\"https://github.com/ikigai0822\\\">Pranay</a>\\n\\n            </h4>\\n            </footer>\\n        </div>\\n    );\\n};\\n\\nexport default Home;\\n\",\"import React from 'react';\\nimport Avatar from 'react-avatar';\\n\\nconst Client = ({ username }) => {\\n    return (\\n        <div className=\\\"client\\\">\\n            <Avatar name={username} size={50} round=\\\"14px\\\" />\\n            <span className=\\\"userName\\\">{username}</span>\\n        </div>\\n    );\\n};\\n\\nexport default Client;\\n\",\"import React, { useEffect, useRef, useContext, useState } from 'react';\\nimport Codemirror from 'codemirror';\\nimport 'codemirror/lib/codemirror.css';\\nimport 'codemirror/theme/dracula.css';\\nimport 'codemirror/mode/javascript/javascript';\\nimport 'codemirror/mode/python/python';\\nimport 'codemirror/addon/edit/closetag';\\nimport 'codemirror/addon/edit/closebrackets';\\nimport ACTIONS from '../Actions';\\n\\n\\nconst Editor = ({ roomId, onCodeChange, selectedLanguage }) => {\\n  const editorRef = useRef(null);\\n  const socketContext = useContext(socketContext);\\n  const [userCursors, setUserCursors] = useState({});\\n\\n  useEffect(() => {\\n    let editor;\\n    const init = async () => {\\n      editor = Codemirror.fromTextArea(\\n        document.getElementById('realtimeEditor'),\\n        {\\n          mode: { name: selectedLanguage, json: true },\\n          theme: 'dracula',\\n          autoCloseTags: true,\\n          autoCloseBrackets: true,\\n          lineNumbers: true,\\n        }\\n      );\\n\\n      editor.on('change', (instance, changes) => {\\n        const { origin } = changes;\\n        const code = instance.getValue();\\n        const cursorPosition = editor.getCursor();\\n\\n        onCodeChange(code);\\n        if (origin !== 'setValue' && socketContext) {\\n          socketContext.emit(ACTIONS.CODE_CHANGE, {\\n            roomId,\\n            code,\\n            cursorPosition: { line: cursorPosition.line, ch: cursorPosition.ch },\\n            userId: socketContext.userId,\\n          });\\n        }\\n      });\\n\\n      editor.on('cursorActivity', () => {\\n        const cursorPosition = editor.getCursor();\\n        socketContext.emit(ACTIONS.SET_CURSOR_POSITION, {\\n          roomId,\\n          cursorPosition: { line: cursorPosition.line, ch: cursorPosition.ch },\\n          userId: socketContext.userId,\\n        });\\n      });\\n\\n      editorRef.current = editor;\\n    };\\n\\n    init();\\n  }, [socketContext, roomId, onCodeChange, selectedLanguage]);\\n\\n  useEffect(() => {\\n    const handleCodeChange = ({ code, cursorPosition, userId }) => {\\n      if (code !== null && editorRef.current) {\\n        editorRef.current.setValue(code);\\n      }\\n      if (cursorPosition && userId !== socketContext.userId) {\\n        updateUserCursor(userId, cursorPosition);\\n      }\\n    };\\n\\n    const handleCursorPosition = ({ cursorPosition, userId }) => {\\n      if (userId !== socketContext.userId) {\\n        updateUserCursor(userId, cursorPosition);\\n      }\\n    };\\n\\n    function updateUserCursor(userId, position) {\\n      setUserCursors((prevCursors) => ({\\n        ...prevCursors,\\n        [userId]: position,\\n      }));\\n      renderCursors();\\n    }\\n\\n    function renderCursors() {\\n      Object.entries(userCursors).forEach(([userId, position]) => {\\n        if (editorRef.current) {\\n          const cursorElement = document.createElement('span');\\n          cursorElement.style.borderLeft = `2px solid ${getUserColor(userId)}`;\\n          cursorElement.className = 'remote-cursor';\\n          editorRef.current.setBookmark(position, { widget: cursorElement });\\n        }\\n      });\\n    }\\n\\n    if (socketContext) {\\n      socketContext.on(ACTIONS.CODE_CHANGE, handleCodeChange);\\n      socketContext.on(ACTIONS.SET_CURSOR_POSITION, handleCursorPosition);\\n    }\\n\\n    return () => {\\n      if (socketContext) {\\n        socketContext.off(ACTIONS.CODE_CHANGE);\\n        socketContext.off(ACTIONS.SET_CURSOR_POSITION);\\n      }\\n    };\\n  }, [socketContext, userCursors]);\\n\\n  function getUserColor(userId) {\\n    // Assign a color based on userId (you can use a color library or hash to generate unique colors)\\n    return '#' + ((userId * 12345678) % 0xffffff).toString(16).padStart(6, '0');\\n  }\\n\\n  return <textarea id=\\\"realtimeEditor\\\"></textarea>;\\n};\\n\\nexport default Editor;\",\"import React from 'react';\\n\\nconst ChatBox = () => {\\n    return (\\n        <div className=\\\"chat-container\\\">\\n          <p>ChatBox Component</p>\\n          <iframe\\n            src=\\\"https://www5.cbox.ws/box/?boxid=953150&boxtag=l6XwUZ\\\"\\n            width=\\\"100%\\\"\\n            height=\\\"450px\\\"\\n            allow=\\\"autoplay\\\"\\n            style={{\\n                border: 'none',\\n                frameBorder: '0',\\n                marginTop: '0',\\n                marginBottom: '0',\\n                marginLeft: '0',\\n                marginRight: '0',\\n                overflowY: 'auto'\\n              }}\\n            title=\\\"Chat Box\\\"\\n          ></iframe>\\n        </div>\\n      );\\n    };\\n\\nexport default ChatBox;\",\"import React, { useState, useRef, useEffect } from 'react';\\nimport toast from 'react-hot-toast';\\nimport ACTIONS from '../Actions';\\nimport Client from '../components/Client';\\nimport Editor from '../components/Editor';\\nimport { initSocket } from '../socket';\\nimport {\\n    useLocation,\\n    useNavigate,\\n    Navigate,\\n    useParams,\\n} from 'react-router-dom';\\nimport ChatBox from '../components/chatbox';\\n\\nconst EditorPage = () => {\\n    const socketRef = useRef(null);\\n    const codeRef = useRef(null);\\n    const location = useLocation();\\n    const { roomId } = useParams();\\n    const reactNavigator = useNavigate();\\n    const [clients, setClients] = useState([]);\\n    const [selectedLanguage, setSelectedLanguage] = useState('javascript');\\n\\n    useEffect(() => {\\n        const init = async () => {\\n            socketRef.current = await initSocket();\\n            socketRef.current.on('connect_error', (err) => handleErrors(err));\\n            socketRef.current.on('connect_failed', (err) => handleErrors(err));\\n\\n            function handleErrors(e) {\\n                console.log('socket error', e);\\n                toast.error('Socket connection failed, try again later.');\\n                reactNavigator('/');\\n            }\\n\\n            socketRef.current.emit(ACTIONS.JOIN, {\\n                roomId,\\n                username: location.state?.username,\\n            });\\n\\n            socketRef.current.on(\\n                ACTIONS.JOINED,\\n                ({ clients, username, socketId }) => {\\n                    if (username !== location.state?.username) {\\n                        toast.success(`${username} joined the room.`);\\n                        console.log(`${username} joined`);\\n                    }\\n                    setClients(clients);\\n                    socketRef.current.emit(ACTIONS.SYNC_CODE, {\\n                        code: codeRef.current,\\n                        socketId,\\n                    });\\n                }\\n            );\\n\\n            socketRef.current.on(\\n                ACTIONS.DISCONNECTED,\\n                ({ socketId, username }) => {\\n                    toast.success(`${username} left the room.`);\\n                    setClients((prev) => {\\n                        return prev.filter(\\n                            (client) => client.socketId !== socketId\\n                        );\\n                    });\\n                }\\n            );\\n        };\\n        init();\\n        return () => {\\n            socketRef.current.disconnect();\\n            socketRef.current.off(ACTIONS.JOINED);\\n            socketRef.current.off(ACTIONS.DISCONNECTED);\\n        };\\n    }, []);\\n\\n    async function copyRoomId() {\\n        try {\\n            await navigator.clipboard.writeText(roomId);\\n            toast.success('Room ID has been copied to your clipboard');\\n        } catch (err) {\\n            toast.error('Could not copy the Room ID');\\n            console.error(err);\\n        }\\n    }\\n\\n    function leaveRoom() {\\n        reactNavigator('/');\\n    }\\n\\n    if (!location.state) {\\n        return <Navigate to=\\\"/\\\" />;\\n    }\\n\\n    return (\\n        <div className=\\\"mainWrap\\\">\\n            <div className=\\\"aside\\\">\\n                <div className=\\\"asideInner\\\">\\n                    <div className=\\\"logo\\\">\\n                    <img className=\\\"logoImage\\\" src=\\\"/codemate.jpg\\\" alt=\\\"logo\\\" />       \\n                    </div>\\n                    <h3>Connected</h3>\\n                    <div className=\\\"clientsList\\\">\\n                        {clients.map((client) => (\\n                            <Client\\n                                key={client.socketId}\\n                                username={client.username}\\n                            />\\n                        ))}\\n                    </div>\\n                </div>\\n                <div className=\\\"button-container\\\">\\n                    <button className=\\\"btn copyBtn\\\" onClick={copyRoomId}>\\n                        Copy ROOM ID\\n                    </button>\\n                    <button className=\\\"btn leaveBtn\\\" onClick={leaveRoom}>\\n                        Leave\\n                    </button>\\n                </div>\\n        </div>\\n\\n            <div className=\\\"middle\\\">\\n                <Editor\\n                    socketRef={socketRef}\\n                    roomId={roomId}\\n                    selectedLanguage={selectedLanguage}\\n                    onCodeChange={(code) => {\\n                        codeRef.current = code;\\n                    }}\\n                />\\n            </div>\\n\\n            <div className=\\\"language-selector\\\">\\n                <select value={selectedLanguage} onChange={(e) => setSelectedLanguage(e.target.value)}>\\n                    <option value=\\\"javascript\\\">JavaScript</option>\\n                    <option value=\\\"python\\\">Python</option>\\n                </select>\\n            </div>\\n\\n            <div className=\\\"right\\\">\\n                <h1>Welcome to the Chat</h1>\\n                <ChatBox /> \\n            </div>\\n\\n            <div className=\\\"bottom\\\"></div>\\n        </div>\\n)};\\n\\nexport default EditorPage;\\n\",\"import { io } from 'socket.io-client';\\n\\nexport const initSocket = async () => {\\n    const options = {\\n        'force new connection': true,\\n        reconnectionAttempt: 'Infinity',\\n        timeout: 10000,\\n        transports: ['websocket'],\\n    };\\n    return io(process.env.REACT_APP_BACKEND_URL, options);\\n};\\n\",\"import React from 'react';\\nimport './App.css';\\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\\nimport { Toaster } from 'react-hot-toast';\\nimport Home from './pages/Home';\\nimport EditorPage from './pages/EditorPage';\\n\\nfunction App() {\\n    return (\\n        <>\\n            <div>\\n                <Toaster\\n                    position=\\\"top-right\\\"\\n                    toastOptions={{\\n                        success: {\\n                            theme: {\\n                                primary: '#4aed88',\\n                            },\\n                        },\\n                    }}\\n                ></Toaster>\\n            </div>\\n            <BrowserRouter>\\n                <Routes>\\n                    <Route path=\\\"/\\\" element={<Home />}></Route>\\n                    <Route\\n                        path=\\\"/editor/:roomId\\\"\\n                        element={<EditorPage />}\\n                    ></Route>\\n                </Routes>\\n            </BrowserRouter>\\n        </>\\n    );\\n}\\n\\nexport default App;\\n\",\"const reportWebVitals = onPerfEntry => {\\n  if (onPerfEntry && onPerfEntry instanceof Function) {\\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\\n      getCLS(onPerfEntry);\\n      getFID(onPerfEntry);\\n      getFCP(onPerfEntry);\\n      getLCP(onPerfEntry);\\n      getTTFB(onPerfEntry);\\n    });\\n  }\\n};\\n\\nexport default reportWebVitals;\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './index.css';\\nimport App from './App';\\nimport reportWebVitals from './reportWebVitals';\\n\\nReactDOM.render(\\n  <React.StrictMode>\\n    <App />\\n  </React.StrictMode>,\\n  document.getElementById('root')\\n);\\n\\n// If you want to start measuring performance in your app, pass a function\\n// to log results (for example: reportWebVitals(console.log))\\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\\nreportWebVitals();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,a){e.exports=a(203)},118:function(e,t,a){},119:function(e,t,a){},12:function(e,t){e.exports={JOIN:\"join\",JOINED:\"joined\",DISCONNECTED:\"disconnected\",CODE_CHANGE:\"code-change\",SYNC_CODE:\"sync-code\",LEAVE:\"leave\"}},203:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),o=a(51),c=a.n(o),l=(a(118),a(119),a(50)),s=a(2),m=a(16),i=a.n(m),u=a(205);var d=()=>{const e=Object(s.p)(),[t,a]=Object(n.useState)(\"\"),[o,c]=Object(n.useState)(\"\"),l=()=>{t&&o?e(`/editor/${t}`,{state:{username:o}}):i.a.error(\"ROOM ID & username is required\")},m=e=>{\"Enter\"===e.code&&l()};return r.a.createElement(\"div\",{className:\"homePageWrapper\"},r.a.createElement(\"div\",{className:\"formWrapper\"},r.a.createElement(\"div\",{className:\"logo-container\"},r.a.createElement(\"img\",{src:\"/codemate.jpg\",className:\"logo-home\"})),r.a.createElement(\"h4\",{className:\"mainLabel\"},\"Paste ROOM ID\"),r.a.createElement(\"div\",{className:\"inputGroup\"},r.a.createElement(\"input\",{type:\"text\",className:\"inputBox\",placeholder:\"ROOM ID\",onChange:e=>a(e.target.value),value:t,onKeyUp:m}),r.a.createElement(\"input\",{type:\"text\",className:\"inputBox\",placeholder:\"USERNAME\",onChange:e=>c(e.target.value),value:o,onKeyUp:m}),r.a.createElement(\"button\",{className:\"btn joinBtn\",onClick:l},\"Join\"),r.a.createElement(\"span\",{className:\"createInfo\"},\"If you don't have an invite then create \\xa0\",r.a.createElement(\"a\",{onClick:e=>{e.preventDefault();const t=Object(u.a)();a(t),i.a.success(\"Created a new room\")},href:\"/create-room\",className:\"createNewBtn\"},\"new room\")))),r.a.createElement(\"footer\",null,r.a.createElement(\"h4\",null,\"Built with \",r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"love\"},\"\\ud83d\\udc9b\"),\" by \",r.a.createElement(\"a\",{href:\"https://github.com/MEPRAKHAR\"},\"Prakhar\"),\" & \",r.a.createElement(\"a\",{href:\"https://github.com/ikigai0822\"},\"Pranay\"))))},E=a(12),p=a.n(E),g=a(112);var h=e=>{let{username:t}=e;return r.a.createElement(\"div\",{className:\"client\"},r.a.createElement(g.a,{name:t,size:50,round:\"14px\"}),r.a.createElement(\"span\",{className:\"userName\"},t))},N=a(25),O=a.n(N);a(196),a(197),a(198),a(199),a(200),a(202);var f=e=>{let{roomId:t,onCodeChange:a,selectedLanguage:o}=e;const c=Object(n.useRef)(null),l=Object(n.useContext)(l),[s,m]=Object(n.useState)({});return Object(n.useEffect)(()=>{let e;(async()=>{(e=O.a.fromTextArea(document.getElementById(\"realtimeEditor\"),{mode:{name:o,json:!0},theme:\"dracula\",autoCloseTags:!0,autoCloseBrackets:!0,lineNumbers:!0})).on(\"change\",(n,r)=>{const{origin:o}=r,c=n.getValue(),s=e.getCursor();a(c),\"setValue\"!==o&&l&&l.emit(p.a.CODE_CHANGE,{roomId:t,code:c,cursorPosition:{line:s.line,ch:s.ch},userId:l.userId})}),e.on(\"cursorActivity\",()=>{const a=e.getCursor();l.emit(p.a.SET_CURSOR_POSITION,{roomId:t,cursorPosition:{line:a.line,ch:a.ch},userId:l.userId})}),c.current=e})()},[l,t,a,o]),Object(n.useEffect)(()=>{const e=e=>{let{code:t,cursorPosition:n,userId:r}=e;null!==t&&c.current&&c.current.setValue(t),n&&r!==l.userId&&a(r,n)},t=e=>{let{cursorPosition:t,userId:n}=e;n!==l.userId&&a(n,t)};function a(e,t){m(a=>({...a,[e]:t})),Object.entries(s).forEach(e=>{let[t,a]=e;if(c.current){const e=document.createElement(\"span\");e.style.borderLeft=`2px solid ${function(e){return\"#\"+(12345678*e%16777215).toString(16).padStart(6,\"0\")}(t)}`,e.className=\"remote-cursor\",c.current.setBookmark(a,{widget:e})}})}return l&&(l.on(p.a.CODE_CHANGE,e),l.on(p.a.SET_CURSOR_POSITION,t)),()=>{l&&(l.off(p.a.CODE_CHANGE),l.off(p.a.SET_CURSOR_POSITION))}},[l,s]),r.a.createElement(\"textarea\",{id:\"realtimeEditor\"})},v=a(111);var C=()=>r.a.createElement(\"div\",{className:\"chat-container\"},r.a.createElement(\"p\",null,\"ChatBox Component\"),r.a.createElement(\"iframe\",{src:\"https://www5.cbox.ws/box/?boxid=953150&boxtag=l6XwUZ\",width:\"100%\",height:\"450px\",allow:\"autoplay\",style:{border:\"none\",frameBorder:\"0\",marginTop:\"0\",marginBottom:\"0\",marginLeft:\"0\",marginRight:\"0\",overflowY:\"auto\"},title:\"Chat Box\"}));var b=()=>{const e=Object(n.useRef)(null),t=Object(n.useRef)(null),a=Object(s.n)(),{roomId:o}=Object(s.r)(),c=Object(s.p)(),[l,m]=Object(n.useState)([]),[u,d]=Object(n.useState)(\"javascript\");return Object(n.useEffect)(()=>((async()=>{var n;function r(e){console.log(\"socket error\",e),i.a.error(\"Socket connection failed, try again later.\"),c(\"/\")}e.current=await(async()=>Object(v.a)(Object({NODE_ENV:\"production\",PUBLIC_URL:\"\"}).REACT_APP_BACKEND_URL,{\"force new connection\":!0,reconnectionAttempt:\"Infinity\",timeout:1e4,transports:[\"websocket\"]}))(),e.current.on(\"connect_error\",e=>r(e)),e.current.on(\"connect_failed\",e=>r(e)),e.current.emit(p.a.JOIN,{roomId:o,username:null===(n=a.state)||void 0===n?void 0:n.username}),e.current.on(p.a.JOINED,n=>{var r;let{clients:o,username:c,socketId:l}=n;c!==(null===(r=a.state)||void 0===r?void 0:r.username)&&(i.a.success(`${c} joined the room.`),console.log(`${c} joined`)),m(o),e.current.emit(p.a.SYNC_CODE,{code:t.current,socketId:l})}),e.current.on(p.a.DISCONNECTED,e=>{let{socketId:t,username:a}=e;i.a.success(`${a} left the room.`),m(e=>e.filter(e=>e.socketId!==t))})})(),()=>{e.current.disconnect(),e.current.off(p.a.JOINED),e.current.off(p.a.DISCONNECTED)}),[]),a.state?r.a.createElement(\"div\",{className:\"mainWrap\"},r.a.createElement(\"div\",{className:\"aside\"},r.a.createElement(\"div\",{className:\"asideInner\"},r.a.createElement(\"div\",{className:\"logo\"},r.a.createElement(\"img\",{className:\"logoImage\",src:\"/codemate.jpg\",alt:\"logo\"})),r.a.createElement(\"h3\",null,\"Connected\"),r.a.createElement(\"div\",{className:\"clientsList\"},l.map(e=>r.a.createElement(h,{key:e.socketId,username:e.username})))),r.a.createElement(\"div\",{className:\"button-container\"},r.a.createElement(\"button\",{className:\"btn copyBtn\",onClick:async function(){try{await navigator.clipboard.writeText(o),i.a.success(\"Room ID has been copied to your clipboard\")}catch(e){i.a.error(\"Could not copy the Room ID\"),console.error(e)}}},\"Copy ROOM ID\"),r.a.createElement(\"button\",{className:\"btn leaveBtn\",onClick:function(){c(\"/\")}},\"Leave\"))),r.a.createElement(\"div\",{className:\"middle\"},r.a.createElement(f,{socketRef:e,roomId:o,selectedLanguage:u,onCodeChange:e=>{t.current=e}})),r.a.createElement(\"div\",{className:\"language-selector\"},r.a.createElement(\"select\",{value:u,onChange:e=>d(e.target.value)},r.a.createElement(\"option\",{value:\"javascript\"},\"JavaScript\"),r.a.createElement(\"option\",{value:\"python\"},\"Python\"))),r.a.createElement(\"div\",{className:\"right\"},r.a.createElement(\"h1\",null,\"Welcome to the Chat\"),r.a.createElement(C,null)),r.a.createElement(\"div\",{className:\"bottom\"})):r.a.createElement(s.a,{to:\"/\"})};var I=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(\"div\",null,r.a.createElement(m.Toaster,{position:\"top-right\",toastOptions:{success:{theme:{primary:\"#4aed88\"}}}})),r.a.createElement(l.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:\"/\",element:r.a.createElement(d,null)}),r.a.createElement(s.b,{path:\"/editor/:roomId\",element:r.a.createElement(b,null)}))))};var j=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,206)).then(t=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:o,getTTFB:c}=t;a(e),n(e),r(e),o(e),c(e)})};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById(\"root\")),j()}},[[113,1,2]]]);","extractedComments":[]}