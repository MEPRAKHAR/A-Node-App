{"map":"{\"version\":3,\"sources\":[\"/Users/PrakharGupta/Major-1/src/Actions.js\",\"/Users/PrakharGupta/Major-1/src/pages/Home.js\",\"/Users/PrakharGupta/Major-1/src/components/Client.js\",\"/Users/PrakharGupta/Major-1/src/components/Editor.js\",\"/Users/PrakharGupta/Major-1/src/components/chatbox.js\",\"/Users/PrakharGupta/Major-1/src/pages/EditorPage.js\",\"/Users/PrakharGupta/Major-1/src/socket.js\",\"/Users/PrakharGupta/Major-1/src/App.js\",\"/Users/PrakharGupta/Major-1/src/reportWebVitals.js\",\"/Users/PrakharGupta/Major-1/src/index.js\"],\"names\":[\"module\",\"exports\",\"JOIN\",\"JOINED\",\"DISCONNECTED\",\"CODE_CHANGE\",\"SYNC_CODE\",\"LEAVE\",\"Home\",\"navigate\",\"useNavigate\",\"roomId\",\"setRoomId\",\"useState\",\"username\",\"setUsername\",\"joinRoom\",\"state\",\"toast\",\"error\",\"handleInputEnter\",\"e\",\"code\",\"React\",\"createElement\",\"className\",\"src\",\"type\",\"placeholder\",\"onChange\",\"target\",\"value\",\"onKeyUp\",\"onClick\",\"preventDefault\",\"id\",\"uuidV4\",\"success\",\"href\",\"role\",\"aria-label\",\"Client\",\"_ref\",\"Avatar\",\"name\",\"size\",\"round\",\"Editor\",\"socketRef\",\"onCodeChange\",\"selectedLanguage\",\"editorRef\",\"useRef\",\"useEffect\",\"async\",\"current\",\"Codemirror\",\"fromTextArea\",\"document\",\"getElementById\",\"mode\",\"json\",\"theme\",\"autoCloseTags\",\"autoCloseBrackets\",\"lineNumbers\",\"on\",\"instance\",\"changes\",\"origin\",\"getValue\",\"emit\",\"ACTIONS\",\"init\",\"_ref2\",\"setValue\",\"off\",\"ChatBox\",\"width\",\"height\",\"allow\",\"style\",\"border\",\"frameBorder\",\"marginTop\",\"marginBottom\",\"marginLeft\",\"marginRight\",\"overflowY\",\"title\",\"EditorPage\",\"codeRef\",\"location\",\"useLocation\",\"useParams\",\"reactNavigator\",\"clients\",\"setClients\",\"setSelectedLanguage\",\"_location$state\",\"handleErrors\",\"console\",\"log\",\"io\",\"process\",\"REACT_APP_BACKEND_URL\",\"force new connection\",\"reconnectionAttempt\",\"timeout\",\"transports\",\"initSocket\",\"err\",\"_location$state2\",\"socketId\",\"prev\",\"filter\",\"client\",\"disconnect\",\"alt\",\"map\",\"key\",\"navigator\",\"clipboard\",\"writeText\",\"Navigate\",\"to\",\"App\",\"Fragment\",\"Toaster\",\"position\",\"toastOptions\",\"primary\",\"BrowserRouter\",\"Routes\",\"Route\",\"path\",\"element\",\"reportWebVitals\",\"onPerfEntry\",\"Function\",\"__webpack_require__\",\"then\",\"bind\",\"getCLS\",\"getFID\",\"getFCP\",\"getLCP\",\"getTTFB\",\"ReactDOM\",\"render\",\"StrictMode\"],\"mappings\":\"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\",\"sourcesContent\":[\"const ACTIONS = {\\n    JOIN: 'join',\\n    JOINED: 'joined',\\n    DISCONNECTED: 'disconnected',\\n    CODE_CHANGE: 'code-change',\\n    SYNC_CODE: 'sync-code',\\n    LEAVE: 'leave',\\n};\\n\\nmodule.exports = ACTIONS;\\n\",\"import React, { useState } from 'react';\\nimport { v4 as uuidV4 } from 'uuid';\\nimport toast from 'react-hot-toast';\\nimport { useNavigate } from 'react-router-dom';\\n\\nconst Home = () => {\\n    const navigate = useNavigate();\\n\\n    const [roomId, setRoomId] = useState('');\\n    const [username, setUsername] = useState('');\\n    const createNewRoom = (e) => {\\n        e.preventDefault();\\n        const id = uuidV4();\\n        setRoomId(id);\\n        toast.success('Created a new room');\\n    };\\n\\n    const joinRoom = () => {\\n        if (!roomId || !username) {\\n            toast.error('ROOM ID & username is required');\\n            return;\\n        }\\n\\n        // Redirect\\n        navigate(`/editor/${roomId}`, {\\n            state: {\\n                username,\\n            },\\n        });\\n    };\\n\\n    const handleInputEnter = (e) => {\\n        if (e.code === 'Enter') {\\n            joinRoom();\\n        }\\n    };\\n    return (\\n        <div className=\\\"homePageWrapper\\\">\\n            <div className=\\\"formWrapper\\\">\\n            <div className=\\\"logo-container\\\">\\n                  <img src = \\\"/codemate.jpg\\\" className=\\\"logo-home\\\" />\\n                </div>\\n                <h4 className=\\\"mainLabel\\\">Paste ROOM ID</h4>\\n                <div className=\\\"inputGroup\\\">\\n                    <input\\n                        type=\\\"text\\\"\\n                        className=\\\"inputBox\\\"\\n                        placeholder=\\\"ROOM ID\\\"\\n                        onChange={(e) => setRoomId(e.target.value)}\\n                        value={roomId}\\n                        onKeyUp={handleInputEnter}\\n                    />\\n                    <input\\n                        type=\\\"text\\\"\\n                        className=\\\"inputBox\\\"\\n                        placeholder=\\\"USERNAME\\\"\\n                        onChange={(e) => setUsername(e.target.value)}\\n                        value={username}\\n                        onKeyUp={handleInputEnter}\\n                    />\\n                    <button className=\\\"btn joinBtn\\\" onClick={joinRoom}>\\n                        Join\\n                    </button>\\n                    <span className=\\\"createInfo\\\">\\n                        If you don't have an invite then create &nbsp;\\n                        <a\\n                            onClick={createNewRoom}\\n                            href=\\\"/create-room\\\"\\n                            className=\\\"createNewBtn\\\"\\n                        >\\n                            new room\\n                        </a>\\n                    </span>\\n                </div>\\n            </div>\\n            <footer>\\n            <h4>\\n            Built with <span role=\\\"img\\\" aria-label=\\\"love\\\">💛</span> by <a href=\\\"https://github.com/MEPRAKHAR\\\">Prakhar</a> & <a href=\\\"https://github.com/ikigai0822\\\">Pranay</a>\\n\\n            </h4>\\n            </footer>\\n        </div>\\n    );\\n};\\n\\nexport default Home;\\n\",\"import React from 'react';\\nimport Avatar from 'react-avatar';\\n\\nconst Client = ({ username }) => {\\n    return (\\n        <div className=\\\"client\\\">\\n            <Avatar name={username} size={50} round=\\\"14px\\\" />\\n            <span className=\\\"userName\\\">{username}</span>\\n        </div>\\n    );\\n};\\n\\nexport default Client;\\n\",\"import React, { useEffect, useRef } from 'react';\\nimport Codemirror from 'codemirror';\\nimport 'codemirror/lib/codemirror.css';\\nimport 'codemirror/theme/dracula.css';\\nimport 'codemirror/mode/javascript/javascript';\\nimport 'codemirror/mode/python/python';\\nimport 'codemirror/addon/edit/closetag';\\nimport 'codemirror/addon/edit/closebrackets';\\nimport ACTIONS from '../Actions';\\n\\nconst Editor = ({ socketRef, roomId, onCodeChange, selectedLanguage }) => {\\n    const editorRef = useRef(null);\\n    useEffect(() => {\\n        async function init() {\\n            editorRef.current = Codemirror.fromTextArea(\\n                document.getElementById('realtimeEditor'),\\n                {\\n                    mode: { name: selectedLanguage, json: true },\\n                    theme: 'dracula',\\n                    autoCloseTags: true,\\n                    autoCloseBrackets: true,\\n                    lineNumbers: true,\\n                }\\n            );\\n\\n            editorRef.current.on('change', (instance, changes) => {\\n                const { origin } = changes;\\n                const code = instance.getValue();\\n                onCodeChange(code);\\n                if (origin !== 'setValue') {\\n                    socketRef.current.emit(ACTIONS.CODE_CHANGE, {\\n                        roomId,\\n                        code,\\n                    });\\n                }\\n            });\\n        }\\n        init();\\n    }, [socketRef, roomId, onCodeChange, selectedLanguage]);\\n\\n    useEffect(() => {\\n        if (socketRef.current) {\\n            socketRef.current.on(ACTIONS.CODE_CHANGE, ({ code }) => {\\n                if (code !== null) {\\n                    editorRef.current.setValue(code);\\n                }\\n            });\\n        }\\n\\n        return () => {\\n            socketRef.current.off(ACTIONS.CODE_CHANGE);\\n        };\\n    }, [socketRef.current]);\\n\\n    return <textarea id=\\\"realtimeEditor\\\"></textarea>;\\n};\\n\\nexport default Editor;\\n\",\"import React from 'react';\\n\\nconst ChatBox = () => {\\n    return (\\n        <div className=\\\"chat-container\\\">\\n          <p>ChatBox Component</p>\\n          <iframe\\n            src=\\\"https://www5.cbox.ws/box/?boxid=953150&boxtag=l6XwUZ\\\"\\n            width=\\\"100%\\\"\\n            height=\\\"450px\\\"\\n            allow=\\\"autoplay\\\"\\n            style={{\\n                border: 'none',\\n                frameBorder: '0',\\n                marginTop: '0',\\n                marginBottom: '0',\\n                marginLeft: '0',\\n                marginRight: '0',\\n                overflowY: 'auto'\\n              }}\\n            title=\\\"Chat Box\\\"\\n          ></iframe>\\n        </div>\\n      );\\n    };\\n\\nexport default ChatBox;\",\"import React, { useState, useRef, useEffect } from 'react';\\nimport toast from 'react-hot-toast';\\nimport ACTIONS from '../Actions';\\nimport Client from '../components/Client';\\nimport Editor from '../components/Editor';\\nimport { initSocket } from '../socket';\\nimport {\\n    useLocation,\\n    useNavigate,\\n    Navigate,\\n    useParams,\\n} from 'react-router-dom';\\nimport ChatBox from '../components/chatbox';\\n\\nconst EditorPage = () => {\\n    const socketRef = useRef(null);\\n    const codeRef = useRef(null);\\n    const location = useLocation();\\n    const { roomId } = useParams();\\n    const reactNavigator = useNavigate();\\n    const [clients, setClients] = useState([]);\\n    const [selectedLanguage, setSelectedLanguage] = useState('javascript');\\n\\n    useEffect(() => {\\n        const init = async () => {\\n            socketRef.current = await initSocket();\\n            socketRef.current.on('connect_error', (err) => handleErrors(err));\\n            socketRef.current.on('connect_failed', (err) => handleErrors(err));\\n\\n            function handleErrors(e) {\\n                console.log('socket error', e);\\n                toast.error('Socket connection failed, try again later.');\\n                reactNavigator('/');\\n            }\\n\\n            socketRef.current.emit(ACTIONS.JOIN, {\\n                roomId,\\n                username: location.state?.username,\\n            });\\n\\n            socketRef.current.on(\\n                ACTIONS.JOINED,\\n                ({ clients, username, socketId }) => {\\n                    if (username !== location.state?.username) {\\n                        toast.success(`${username} joined the room.`);\\n                        console.log(`${username} joined`);\\n                    }\\n                    setClients(clients);\\n                    socketRef.current.emit(ACTIONS.SYNC_CODE, {\\n                        code: codeRef.current,\\n                        socketId,\\n                    });\\n                }\\n            );\\n\\n            socketRef.current.on(\\n                ACTIONS.DISCONNECTED,\\n                ({ socketId, username }) => {\\n                    toast.success(`${username} left the room.`);\\n                    setClients((prev) => {\\n                        return prev.filter(\\n                            (client) => client.socketId !== socketId\\n                        );\\n                    });\\n                }\\n            );\\n        };\\n        init();\\n        return () => {\\n            socketRef.current.disconnect();\\n            socketRef.current.off(ACTIONS.JOINED);\\n            socketRef.current.off(ACTIONS.DISCONNECTED);\\n        };\\n    }, []);\\n\\n    async function copyRoomId() {\\n        try {\\n            await navigator.clipboard.writeText(roomId);\\n            toast.success('Room ID has been copied to your clipboard');\\n        } catch (err) {\\n            toast.error('Could not copy the Room ID');\\n            console.error(err);\\n        }\\n    }\\n\\n    function leaveRoom() {\\n        reactNavigator('/');\\n    }\\n\\n    if (!location.state) {\\n        return <Navigate to=\\\"/\\\" />;\\n    }\\n\\n    return (\\n        <div className=\\\"mainWrap\\\">\\n            <div className=\\\"aside\\\">\\n                <div className=\\\"asideInner\\\">\\n                    <div className=\\\"logo\\\">\\n                    <img className=\\\"logoImage\\\" src=\\\"/codemate.jpg\\\" alt=\\\"logo\\\" />       \\n                    </div>\\n                    <h3>Connected</h3>\\n                    <div className=\\\"clientsList\\\">\\n                        {clients.map((client) => (\\n                            <Client\\n                                key={client.socketId}\\n                                username={client.username}\\n                            />\\n                        ))}\\n                    </div>\\n                </div>\\n                <div className=\\\"button-container\\\">\\n                    <button className=\\\"btn copyBtn\\\" onClick={copyRoomId}>\\n                        Copy ROOM ID\\n                    </button>\\n                    <button className=\\\"btn leaveBtn\\\" onClick={leaveRoom}>\\n                        Leave\\n                    </button>\\n                </div>\\n        </div>\\n\\n            <div className=\\\"middle\\\">\\n                <Editor\\n                    socketRef={socketRef}\\n                    roomId={roomId}\\n                    selectedLanguage={selectedLanguage}\\n                    onCodeChange={(code) => {\\n                        codeRef.current = code;\\n                    }}\\n                />\\n            </div>\\n\\n            <div className=\\\"language-selector\\\">\\n                <select value={selectedLanguage} onChange={(e) => setSelectedLanguage(e.target.value)}>\\n                    <option value=\\\"javascript\\\">JavaScript</option>\\n                    <option value=\\\"python\\\">Python</option>\\n                </select>\\n            </div>\\n\\n            <div className=\\\"right\\\">\\n                <h1>Welcome to the Chat</h1>\\n                <ChatBox /> \\n            </div>\\n\\n            <div className=\\\"bottom\\\"></div>\\n        </div>\\n)};\\n\\nexport default EditorPage;\\n\",\"import { io } from 'socket.io-client';\\n\\nexport const initSocket = async () => {\\n    const options = {\\n        'force new connection': true,\\n        reconnectionAttempt: 'Infinity',\\n        timeout: 10000,\\n        transports: ['websocket'],\\n    };\\n    return io(process.env.REACT_APP_BACKEND_URL, options);\\n};\\n\",\"import './App.css';\\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\\nimport { Toaster } from 'react-hot-toast';\\nimport Home from './pages/Home';\\nimport EditorPage from './pages/EditorPage';\\n\\nfunction App() {\\n    return (\\n        <>\\n            <div>\\n                <Toaster\\n                    position=\\\"top-right\\\"\\n                    toastOptions={{\\n                        success: {\\n                            theme: {\\n                                primary: '#4aed88',\\n                            },\\n                        },\\n                    }}\\n                ></Toaster>\\n            </div>\\n            <BrowserRouter>\\n                <Routes>\\n                    <Route path=\\\"/\\\" element={<Home />}></Route>\\n                    <Route\\n                        path=\\\"/editor/:roomId\\\"\\n                        element={<EditorPage />}\\n                    ></Route>\\n                </Routes>\\n            </BrowserRouter>\\n        </>\\n    );\\n}\\n\\nexport default App;\\n\",\"const reportWebVitals = onPerfEntry => {\\n  if (onPerfEntry && onPerfEntry instanceof Function) {\\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\\n      getCLS(onPerfEntry);\\n      getFID(onPerfEntry);\\n      getFCP(onPerfEntry);\\n      getLCP(onPerfEntry);\\n      getTTFB(onPerfEntry);\\n    });\\n  }\\n};\\n\\nexport default reportWebVitals;\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './index.css';\\nimport App from './App';\\nimport reportWebVitals from './reportWebVitals';\\n\\nReactDOM.render(\\n  <React.StrictMode>\\n    <App />\\n  </React.StrictMode>,\\n  document.getElementById('root')\\n);\\n\\n// If you want to start measuring performance in your app, pass a function\\n// to log results (for example: reportWebVitals(console.log))\\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\\nreportWebVitals();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,a){e.exports=a(203)},118:function(e,t,a){},119:function(e,t,a){},16:function(e,t){e.exports={JOIN:\"join\",JOINED:\"joined\",DISCONNECTED:\"disconnected\",CODE_CHANGE:\"code-change\",SYNC_CODE:\"sync-code\",LEAVE:\"leave\"}},203:function(e,t,a){\"use strict\";a.r(t);var n=a(0),c=a.n(n),r=a(51),o=a.n(r),l=(a(118),a(119),a(50)),s=a(2),m=a(15),i=a.n(m),u=a(205);var E=()=>{const e=Object(s.p)(),[t,a]=Object(n.useState)(\"\"),[r,o]=Object(n.useState)(\"\"),l=()=>{t&&r?e(`/editor/${t}`,{state:{username:r}}):i.a.error(\"ROOM ID & username is required\")},m=e=>{\"Enter\"===e.code&&l()};return c.a.createElement(\"div\",{className:\"homePageWrapper\"},c.a.createElement(\"div\",{className:\"formWrapper\"},c.a.createElement(\"div\",{className:\"logo-container\"},c.a.createElement(\"img\",{src:\"/codemate.jpg\",className:\"logo-home\"})),c.a.createElement(\"h4\",{className:\"mainLabel\"},\"Paste ROOM ID\"),c.a.createElement(\"div\",{className:\"inputGroup\"},c.a.createElement(\"input\",{type:\"text\",className:\"inputBox\",placeholder:\"ROOM ID\",onChange:e=>a(e.target.value),value:t,onKeyUp:m}),c.a.createElement(\"input\",{type:\"text\",className:\"inputBox\",placeholder:\"USERNAME\",onChange:e=>o(e.target.value),value:r,onKeyUp:m}),c.a.createElement(\"button\",{className:\"btn joinBtn\",onClick:l},\"Join\"),c.a.createElement(\"span\",{className:\"createInfo\"},\"If you don't have an invite then create \\xa0\",c.a.createElement(\"a\",{onClick:e=>{e.preventDefault();const t=Object(u.a)();a(t),i.a.success(\"Created a new room\")},href:\"/create-room\",className:\"createNewBtn\"},\"new room\")))),c.a.createElement(\"footer\",null,c.a.createElement(\"h4\",null,\"Built with \",c.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"love\"},\"\\ud83d\\udc9b\"),\" by \",c.a.createElement(\"a\",{href:\"https://github.com/MEPRAKHAR\"},\"Prakhar\"),\" & \",c.a.createElement(\"a\",{href:\"https://github.com/ikigai0822\"},\"Pranay\"))))},d=a(16),p=a.n(d),g=a(112);var h=e=>{let{username:t}=e;return c.a.createElement(\"div\",{className:\"client\"},c.a.createElement(g.a,{name:t,size:50,round:\"14px\"}),c.a.createElement(\"span\",{className:\"userName\"},t))},v=a(25),N=a.n(v);a(196),a(197),a(198),a(199),a(200),a(202);var f=e=>{let{socketRef:t,roomId:a,onCodeChange:r,selectedLanguage:o}=e;const l=Object(n.useRef)(null);return Object(n.useEffect)(()=>{!async function(){l.current=N.a.fromTextArea(document.getElementById(\"realtimeEditor\"),{mode:{name:o,json:!0},theme:\"dracula\",autoCloseTags:!0,autoCloseBrackets:!0,lineNumbers:!0}),l.current.on(\"change\",(e,n)=>{const{origin:c}=n,o=e.getValue();r(o),\"setValue\"!==c&&t.current.emit(p.a.CODE_CHANGE,{roomId:a,code:o})})}()},[t,a,r,o]),Object(n.useEffect)(()=>(t.current&&t.current.on(p.a.CODE_CHANGE,e=>{let{code:t}=e;null!==t&&l.current.setValue(t)}),()=>{t.current.off(p.a.CODE_CHANGE)}),[t.current]),c.a.createElement(\"textarea\",{id:\"realtimeEditor\"})},b=a(111);var C=()=>c.a.createElement(\"div\",{className:\"chat-container\"},c.a.createElement(\"p\",null,\"ChatBox Component\"),c.a.createElement(\"iframe\",{src:\"https://www5.cbox.ws/box/?boxid=953150&boxtag=l6XwUZ\",width:\"100%\",height:\"450px\",allow:\"autoplay\",style:{border:\"none\",frameBorder:\"0\",marginTop:\"0\",marginBottom:\"0\",marginLeft:\"0\",marginRight:\"0\",overflowY:\"auto\"},title:\"Chat Box\"}));var O=()=>{const e=Object(n.useRef)(null),t=Object(n.useRef)(null),a=Object(s.n)(),{roomId:r}=Object(s.r)(),o=Object(s.p)(),[l,m]=Object(n.useState)([]),[u,E]=Object(n.useState)(\"javascript\");return Object(n.useEffect)(()=>((async()=>{var n;function c(e){console.log(\"socket error\",e),i.a.error(\"Socket connection failed, try again later.\"),o(\"/\")}e.current=await(async()=>Object(b.a)(Object({NODE_ENV:\"production\",PUBLIC_URL:\"\"}).REACT_APP_BACKEND_URL,{\"force new connection\":!0,reconnectionAttempt:\"Infinity\",timeout:1e4,transports:[\"websocket\"]}))(),e.current.on(\"connect_error\",e=>c(e)),e.current.on(\"connect_failed\",e=>c(e)),e.current.emit(p.a.JOIN,{roomId:r,username:null===(n=a.state)||void 0===n?void 0:n.username}),e.current.on(p.a.JOINED,n=>{var c;let{clients:r,username:o,socketId:l}=n;o!==(null===(c=a.state)||void 0===c?void 0:c.username)&&(i.a.success(`${o} joined the room.`),console.log(`${o} joined`)),m(r),e.current.emit(p.a.SYNC_CODE,{code:t.current,socketId:l})}),e.current.on(p.a.DISCONNECTED,e=>{let{socketId:t,username:a}=e;i.a.success(`${a} left the room.`),m(e=>e.filter(e=>e.socketId!==t))})})(),()=>{e.current.disconnect(),e.current.off(p.a.JOINED),e.current.off(p.a.DISCONNECTED)}),[]),a.state?c.a.createElement(\"div\",{className:\"mainWrap\"},c.a.createElement(\"div\",{className:\"aside\"},c.a.createElement(\"div\",{className:\"asideInner\"},c.a.createElement(\"div\",{className:\"logo\"},c.a.createElement(\"img\",{className:\"logoImage\",src:\"/codemate.jpg\",alt:\"logo\"})),c.a.createElement(\"h3\",null,\"Connected\"),c.a.createElement(\"div\",{className:\"clientsList\"},l.map(e=>c.a.createElement(h,{key:e.socketId,username:e.username})))),c.a.createElement(\"div\",{className:\"button-container\"},c.a.createElement(\"button\",{className:\"btn copyBtn\",onClick:async function(){try{await navigator.clipboard.writeText(r),i.a.success(\"Room ID has been copied to your clipboard\")}catch(e){i.a.error(\"Could not copy the Room ID\"),console.error(e)}}},\"Copy ROOM ID\"),c.a.createElement(\"button\",{className:\"btn leaveBtn\",onClick:function(){o(\"/\")}},\"Leave\"))),c.a.createElement(\"div\",{className:\"middle\"},c.a.createElement(f,{socketRef:e,roomId:r,selectedLanguage:u,onCodeChange:e=>{t.current=e}})),c.a.createElement(\"div\",{className:\"language-selector\"},c.a.createElement(\"select\",{value:u,onChange:e=>E(e.target.value)},c.a.createElement(\"option\",{value:\"javascript\"},\"JavaScript\"),c.a.createElement(\"option\",{value:\"python\"},\"Python\"))),c.a.createElement(\"div\",{className:\"right\"},c.a.createElement(\"h1\",null,\"Welcome to the Chat\"),c.a.createElement(C,null)),c.a.createElement(\"div\",{className:\"bottom\"})):c.a.createElement(s.a,{to:\"/\"})};var I=function(){return React.createElement(React.Fragment,null,React.createElement(\"div\",null,React.createElement(m.Toaster,{position:\"top-right\",toastOptions:{success:{theme:{primary:\"#4aed88\"}}}})),React.createElement(l.a,null,React.createElement(s.d,null,React.createElement(s.b,{path:\"/\",element:React.createElement(E,null)}),React.createElement(s.b,{path:\"/editor/:roomId\",element:React.createElement(O,null)}))))};var R=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,206)).then(t=>{let{getCLS:a,getFID:n,getFCP:c,getLCP:r,getTTFB:o}=t;a(e),n(e),c(e),r(e),o(e)})};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(I,null)),document.getElementById(\"root\")),R()}},[[113,1,2]]]);","extractedComments":[]}