{"ast":null,"code":"import _asyncToGenerator from\"/Users/PrakharGupta/Major-1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/PrakharGupta/Major-1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/PrakharGupta/Major-1/node_modules/@babel/runtime/regenerator/index.js\";// src/components/SocketProvider.js\nimport React,{createContext,useContext,useEffect,useState}from'react';import{initSocket}from'../socket';import ACTIONS from'../Actions';import{jsx as _jsx}from\"react/jsx-runtime\";export var SocketContext=/*#__PURE__*/createContext();// Export SocketContext here\nvar SocketProvider=function SocketProvider(_ref){var children=_ref.children;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),socket=_useState2[0],setSocket=_useState2[1];useEffect(function(){var setupSocket=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var socket;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return initSocket();case 2:socket=_context.sent;setSocket(socket);return _context.abrupt(\"return\",function(){if(socket){socket.disconnect();}});case 5:case\"end\":return _context.stop();}}},_callee);}));return function setupSocket(){return _ref2.apply(this,arguments);};}();setupSocket();},[]);return/*#__PURE__*/_jsx(SocketContext.Provider,{value:socket,children:children});};export default SocketProvider;","map":{"version":3,"sources":["/Users/PrakharGupta/Major-1/src/components/SocketProvider.js"],"names":["React","createContext","useContext","useEffect","useState","initSocket","ACTIONS","SocketContext","SocketProvider","children","socket","setSocket","setupSocket","disconnect"],"mappings":"sVAAA;AAEA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,CAA+BC,UAA/B,CAA2CC,SAA3C,CAAsDC,QAAtD,KAAsE,OAAtE,CACA,OAASC,UAAT,KAA2B,WAA3B,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,C,2CAEA,MAAO,IAAMC,CAAAA,aAAa,cAAGN,aAAa,EAAnC,CAAuC;AAE9C,GAAMO,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,CACvC,cAA4BL,QAAQ,CAAC,IAAD,CAApC,wCAAOM,MAAP,eAAeC,SAAf,eAEAR,SAAS,CAAC,UAAM,CACd,GAAMS,CAAAA,WAAW,2FAAG,oKACGP,CAAAA,UAAU,EADb,QACZK,MADY,eAElBC,SAAS,CAACD,MAAD,CAAT,CAFkB,gCAIX,UAAM,CACX,GAAIA,MAAJ,CAAY,CACVA,MAAM,CAACG,UAAP,GACD,CACF,CARiB,wDAAH,kBAAXD,CAAAA,WAAW,2CAAjB,CAWAA,WAAW,GACZ,CAbQ,CAaN,EAbM,CAAT,CAeA,mBACE,KAAC,aAAD,CAAe,QAAf,EAAwB,KAAK,CAAEF,MAA/B,UACGD,QADH,EADF,CAKD,CAvBD,CAyBA,cAAeD,CAAAA,cAAf","sourcesContent":["// src/components/SocketProvider.js\n\nimport React, { createContext, useContext, useEffect, useState } from 'react';\nimport { initSocket } from '../socket';\nimport ACTIONS from '../Actions';\n\nexport const SocketContext = createContext(); // Export SocketContext here\n\nconst SocketProvider = ({ children }) => {\n  const [socket, setSocket] = useState(null);\n\n  useEffect(() => {\n    const setupSocket = async () => {\n      const socket = await initSocket();\n      setSocket(socket);\n\n      return () => {\n        if (socket) {\n          socket.disconnect();\n        }\n      };\n    };\n\n    setupSocket();\n  }, []);\n\n  return (\n    <SocketContext.Provider value={socket}>\n      {children}\n    </SocketContext.Provider>\n  );\n};\n\nexport default SocketProvider;"]},"metadata":{},"sourceType":"module"}